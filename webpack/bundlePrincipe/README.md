## webpack打包原理

### 核心概念
1. entry 指示 webpack 应该使用哪个模块, 来作为构建其内部依赖图的开始。进入入口后, webpack 会找出有哪些模块和库是入口起点(直接和间接)依赖的。每个依赖项即被处理,最后输出到称之为 bundles 的文件中。
2. output 告诉 webpack 在哪里输出它所创建的 bundles, 以及如何命名这些文件, 默认值为 ./dist。基本上,整个应用程序结构,都会被编译到你指定的输出路径文件夹下
3. module 模块,在webpack中一切皆模块,一个模块对应一个文件。Webapck 会从配置的 Entry 开始地块找到所有依赖的模块
4. chunk 代码块,一个 Chunk 由多个模块组合而成,用于代码合并与分割。
5. loader loader 让 webpack 能够处理那些非 JavaScript 文件(webpack 自身只理解JavaScript)。
6. plugin 比loader执行范围更广的任务.范围包括: 打包和压缩,一直到重新定义环境中的变量.插件接口功能极其强大,可以用来处理各种任务
### 构建流程
1. 初始化参数: 从配置文件和 Shell 语句中读取与合并参数,得出最终的参数。
2. 开始编译: 用上一步得到的参数初始化 Compiler 对象加载所有配置的插件,执行对象的 run 方法开始执行编译
3. 确定入口: 根据配置中的 entry 找出所有的入口文件
4. 编译模块: 从入口文件出发,调用所有配置 Loader 对模块进行翻译,再找出模块依赖的模块,再递归本步骤知道入口依赖的所有文件都经过了本步骤的处理
5. 完成模块编译: 完成 loader 之后,得到了每个模块被翻译后最终内容和他们之间的依赖关系
6. 输出资源: 根据入口和模块之间的依赖关系,组装成一个个包含多个模块的 Chunk,再把每个Chunk转换成一个单独的文件加入到输出列表,这是可以修改内容的最后机会
7. 输出完成: 在确定好输出列表之后,根据配置确定的文件路径和文件名,吧文件内容写入文件系统

[webpack简易实现](./index.js)