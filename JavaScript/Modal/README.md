## 模态框
模态框看起来很简单,只需要简单的一个遮罩加上一个模态框就行了,但是其实远没有想象中的那么简单,首先模态框存在的几个问题
### 存在的问题
1. 首先模态框遮罩要放在body元素上,原因是模态框如果放在元素中,你在模态框中的事件就很有可能会冒泡到使用它的组件中,这样会导致错误,肯定不行
2. 绑定在body上时还有一个问题,那就是如果你对你的模态框进行滚动的时候,会冒泡到body的滚动,如果滚动,那我们的遮罩就会随着滚动滚上去,这肯定不行,我们要禁止body的滚动
3. 当禁止了body的滚动之后,由于body滚动条的消失,如果在windows中会造成页面的抖动(因为滚动条是占位的)
4. 当你的模态框弹出模态框的时候,首先你的遮罩不用增加了,其次你要使用更高的z-index去设置给模态框
### 解决办法
所以我们要解决这四个问题
1. 遮罩放在body上,这个很好解决,我们就将遮罩放在body上就好了
2. 禁止body滚动的问题,有几个解决办法
- 将body的overflow设置为hidden
- 将模态框的scroll事件禁止冒泡(这样同样也解决了第三个问题,但是我总觉得这样不太好,现在市面上的modal也没有这么做的,所以还是不这么做了)
3. 当使用overflow: hidden之后滚动条会消失,之后我们需要获取滚动条的占位然后给body加padding为滚动条的宽度
4. 我们要存两个变量,第一个为遮罩是否存在,第二个是现存在的弹窗的z-index数组,这样我们就能控制弹窗弹出弹窗的问题
#### 实现
- 实现请看[index.js](./index.js)
- demo请看[index.html](./index.html)

我的例子懒得写css就比较难看,你们可以去除给`body`设置`overflow:hidden`的代码还有滚动条去除的代码看看,就会发现问题有多大了。